{
  "hash": "972eb560237f12a03e2e049bb18f373a",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"3. Remote Code Hosting and GitHub\"\n---\n\n\n\n\nVersion control really comes into its own when we begin to collaborate with other people. We already have most of the machinery we need to do this ; the only thing missing is to copy changes from one repository to another.\n\nSystems like Git allow us to move work between two repositories. The repositories can live on separate computers or network locations. In practice, we often use one copy as a central hub, and keep it on the web rather than on someone’s laptop. Most programmers use a hosting service like GitHub to hold the central repositories; and this is true for many BC Government employees.\n\nIf you recall, in the pre-workshop, you created a GitHub account and associated it with your GitHub handle (or ID). You also configured your computer with a token (PAT) in a way that should seamlessly allow us to to create a remote repository on GitHub that will be linked to our local repository. Then we will share the changes we’ve made to our current project with the world.\n\n## 3.1 Creating a Remote Repository\n\n1.  Log in to GitHub. Your personal dashboard is the first page you'll see when you sign in on GitHub.\n\n    Tip: To access your personal dashboard once you're signed in, click the invertocat ![](images/github-mark.png){width=\"13\"} logo in the upper-left corner of any page on GitHub.\n\n2.  Click on the `+` icon in the top right corner of your personal dashboard, then `New Repository`\n\n3.  Name your repository “planets”. Further down the page are other options available to us that can be toggled to suit the repository's purpose. For this workshop it's fine to create a \"Public\" repository. However, as this repository will be connected to a local repository, it needs to be empty. Therefore, leave “Add a README file” unchecked, and select “None” as options for both “Add .gitignore” and “Add a license.”\n\n4.  Click \"Create Repository\". As soon as the repository is created, GitHub displays a page with a URL and some information on how to configure your local repository.\n\n![](images/clipboard-3105004005.png)\n\n5.  Make sure HTTPS is selected and then click the clipboard icon to copy the URL. We will use this URL in the next section.\n\nNote: you have effectively done the following on GitHub's servers:\n\n\n::: {.cell}\n\n```{.bash .cell-code}\n$ mkdir planets\n$ cd planets\n$ git init\n```\n:::\n\n\nIf you remember back to the earlier episode where we added and committed our earlier work on mars.txt, we had a diagram of the local repository which looked like this:\n\n![](../figures/tracking-changes.png)\n\nNow that we have two repositories, we need a diagram like this\n\n![](../materials/images/git-freshly-made-github-repo.svg)\n\nNote that our local repository still contains our earlier work on `mars.txt`, but the remote repository on GitHub appears empty as it doesn’t contain any files yet.\n\n## 3.2 Connecting to (Cloning) a Remote Repository\n\nNow we connect the two repositories. We do this by making the GitHub repository a [remote](https://swcarpentry.github.io/git-novice/reference.html#remote) for the local repository. Previously we were shown a page which looked like this:\n\n![](images/clipboard-321009940.png)\n\nAt the time, we chose to use HTTPS as our security protocol for connecting the two repositories.\n\n**SAY SOMETHING ABOUT HTTPS vs SSH**\n\nGo into the local `planets` repository, and run this command:\n\n\n::: {.cell}\n\n```{.bash .cell-code}\n$ git remote add origin https://github.com/<yourusername>/planets.git\n```\n:::\n\n\nwhich is equivalent to\n\n\n::: {.cell}\n\n```{.bash .cell-code}\n$ git remote add origin <paste copied URL here>\n```\n:::\n\n\n`origin` is a local name used to refer to the remote repository. It could be called anything, but `origin` is a convention that is often used by default in git and GitHub, so it’s helpful to stick with this unless there’s a reason not to.\n\nWe can check that the command has worked by running `git remote -v`:\n\n\n::: {.cell}\n\n```{.bash .cell-code}\n$ git remote -v\n```\n:::\n\n\n``` bash-output-box\norigin   https://github.com/<yourusername>/planets.git (fetch)\norigin   https://github.com/<youusername>/planets.git (push)\n```\n\n## 3.2 Push Local Changes to a Remote Repository\n\nNow that authentication is setup, we can return to the remote. This command will push the changes from our local repository to the repository on GitHub:\n\n\n::: {.cell}\n\n```{.bash .cell-code}\n$ git push origin main\n```\n:::\n\n\n``` bash-output-box\nEnumerating objects: 16, done.\nCounting objects: 100% (16/16), done.\nDelta compression using up to 8 threads.\nCompressing objects: 100% (11/11), done.\nWriting objects: 100% (16/16), 1.45 KiB | 372.00 KiB/s, done.\nTotal 16 (delta 2), reused 0 (delta 0)\nremote: Resolving deltas: 100% (2/2), done.\nTo https://github.com/<youusername>/planets.git\n * [new branch]      main -> main\n```\n\n![](../materials/images/github-repo-after-first-push.svg)\n\n## 3.3 Ignoring Things\n\nWhat if we have files that we do not want Git to track for us, like backup files created by our editor or intermediate files created during data analysis? This often is the case in BC Government data projects.\n\nLet's create a file called `a.csv` that contains some data about the Red Planet's average temperature. Open a new csv using Excel and add two columns named 'Time' and 'Temperature'. Add a few rows of data if you want and save it to the planets directory. Then check the output of git status.\n\n\n::: {.cell}\n\n```{.bash .cell-code}\n$ git status\n```\n:::\n\n\n``` bash-output-box\nOn branch main\nUntracked files:\n  (use \"git add <file>...\" to include in what will be committed)\n\n    a.csv\n\nnothing added to commit but untracked files present (use \"git add\" to track)\n```\n\nPutting data files under version control can be a waste of disk space and may put privacy at risk. As many BC Stats projects involve data with PI or other sensitive information, we generally follow a best practice of **not pushing data to GitHub**. We accomplish this by creating a file in the root directory of our project called a **.gitignore**.\n\nAgain, open up your favorite text editor and type the following line into the first line of the file:\n\n``` bash-output-box\n*.csv\n```\n\nThen save and close the file, naming it .gitignore. Don't forget the dot at the beginning!\n\nThese patterns tell Git to ignore any file whose name ends in .csv and everything in the results directory. (If any of these files were already being tracked, Git would continue to track them.)\n\nOnce we have created this file, the output of git status is much cleaner:\n\n\n::: {.cell}\n\n```{.bash .cell-code}\n$ git status\n```\n:::\n\n\n``` bash-output-box\nOn branch main\nUntracked files:\n  (use \"git add <file>...\" to include in what will be committed)\n\n    .gitignore\n\nnothing added to commit but untracked files present (use \"git add\" to track)\n```\n\nAnd since everyone we’re sharing our repository with will probably want to ignore the same things that we’re ignoring, let’s add and commit our .gitignore:\n\n\n::: {.cell}\n\n```{.bash .cell-code}\n$ git add .gitignore\n$ git commit -m \"Ignore data file\"\n```\n:::\n\n\nNow if we try to add our csv files, .gitignore helps us avoid accidentally adding files to the repository that we don’t want to track. It also gives us a way to override the .gitignore with the -f flag.\n\n\n::: {.cell}\n\n```{.bash .cell-code}\n$ git add a.csv\n```\n:::\n\n\n``` bash-output-box\nThe following paths are ignored by one of your .gitignore files:\na.csv\nUse -f if you really want to add them.\n```\n\nGo ahead and push your .gitignore to the remote so other people working on our project can use it too.\n\n\n::: {.cell}\n\n```{.bash .cell-code}\n$ git push\n```\n:::\n\n\nWe can also ignore full subfolders by adding the folder name to our .gitignore.\n\nAdd another line to your .gitignore so it looks like:\n\n``` bash-output-box\n*.csv\nresults/\n```\n\nMake a subfolder in planets:\n\n\n::: {.cell}\n\n```{.bash .cell-code}\n$ mkdir results\n```\n:::\n\n\nAnd then add a .txt file to that subfolder. Again, open up your favorite text editor and add some text to a file and save your changes. Switch back to command line when you're finished and check the git status.\n\n\n::: {.cell}\n\n```{.bash .cell-code}\n$ git status\n```\n:::\n\n\n``` bash-output-box\ngit status\nOn branch main\nUntracked files:\n  (use \"git add <file>...\" to include in what will be committed)\n        .gitignore\n\nnothing added to commit but untracked files present (use \"git add\" to track)\n```\n\nThe subfolder \"results\" and it's contents are ignored. This is handy for keeping all of your data in a single folder. You simply add the data folder to your .gitignore and the contents will not be accidentally pushed.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}